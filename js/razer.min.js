var e=[],n=[];Object.keys(window).forEach((n=>{/^on/.test(n)&&e.push(n.slice(2))}));const t=new WebSocket("https:"===location.protocol?"wss://":"ws://"+window.location.hostname+":2794");for(var a=0;a<e.length;a++)window.addEventListener(e[a],(function(e){var a='{"event_name":"'+e.type+'","event":'+o(e)+"}";try{t.send('{"event_name":"'+e.type+'","event":'+o(e)+"}")}catch(e){n.push(a)}}));function o(e,n=0,t=2){if(n>t)return"Object";const a={};for(let i in e){let s=e[i];s instanceof Node?s={id:s.id}:s instanceof Window?s="Window":s instanceof Object&&(s=o(s,n+1,t)),a[i]=s}return n?a:JSON.stringify(a)}t.onopen=function(){for(var e=0;e<n.length;e++)t.send(n[e])},t.onmessage=function(e){let n=JSON.parse(e.data);if("js"===n.name)eval(n.data);else if("html"===n.name)document.querySelector("body").innerHTML=n.data;else if("eval"===n.name){var a=n.data;t.send('{"event_name":"eval","event":"'+eval(a).replaceAll('"','\\"')+'","data":"'+a.replaceAll('"','\\"')+'"}')}};